<section class="searchSection mat-elevation-z8">

  <form [formGroup]="form" >
    <div fxLayout="row" fxLayoutAlign="space-around center">

      <!-- Widget title query. -->

      <button mat-raised-button (click)="deleteSelected()">Delete Selected</button>
      &nbsp;
      <button mat-raised-button (click)="addWidget()">Add</button>
      &nbsp;
      <mat-form-field>
        <input matInput [formControl]="searchField"
               placeholder="Enter Title to search for">
        <mat-hint align="center">Enter at least first 3 letters.</mat-hint>
      </mat-form-field>
      &nbsp;
      <button mat-raised-button (click)="searchForTitle()">Search</button>
      &nbsp;
      <button mat-raised-button (click)="clearSearch()">Clear</button>
    </div>
  </form>

</section>


<div class="mat-elevation-z8">
  <table mat-table class="full-width-table" matSort aria-label="Elements">

    <ng-container matColumnDef="select">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Select</th>
      <th mat-cell *matCellDef="let row">
        <mat-checkbox (click)="selectWidget(row.id)"></mat-checkbox>
      </th>
    </ng-container>

    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Id</th>
      <td mat-cell *matCellDef="let row">{{row.id}}</td>
    </ng-container>

    <ng-container matColumnDef="title">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Title</th>
      <td mat-cell *matCellDef="let row">
        <b>
          <a [routerLink]="['/widgets/widgetdetail',row.id]">
            {{row.title}}
          </a>
        </b>
      </td>
    </ng-container>


    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Price</th>
      <td mat-cell *matCellDef="let row">{{row.price}}</td>
    </ng-container>

    <ng-container matColumnDef="date">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Date</th>
      <td mat-cell *matCellDef="let row">{{row.date | date: 'dd MMM yy hh:mm a'}}</td>
    </ng-container>




    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

<mat-paginator #paginator
               [length]="dataSource?.data.length"
               [pageIndex]="0"
               [pageSize]="5"
               [pageSizeOptions]="[5, 25, 50, 100, 250]">
</mat-paginator>
</div>

